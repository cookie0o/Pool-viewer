import{t as A,a as w}from"../chunks/C-TkrDIZ.js";import{i as X}from"../chunks/D0H1u2mU.js";import{Z,h as z,i as F,_ as J,$ as L,a0 as O,q as G,s as H,W as c,T as C,k as n,f as N,x as p,v as y,w as _,t as I,a1 as T,J as W}from"../chunks/BRidpAwb.js";import{l as j,e as M,s as B}from"../chunks/CySQt-tR.js";import{L as D,r as K,e as Q,i as R}from"../chunks/DYfb_TtJ.js";import{o as U}from"../chunks/CuDHcO3f.js";import{c as Y,a as ee}from"../chunks/DFtZBgu2.js";function ae(e,r,l=r){var t=Z();j(e,"input",a=>{var s=a?e.defaultValue:e.value;if(s=g(e)?h(s):s,l(s),t&&s!==(s=r())){var o=e.selectionStart,u=e.selectionEnd;e.value=s??"",u!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(u,e.value.length))}}),(z&&e.defaultValue!==e.value||F(r)==null&&e.value)&&l(g(e)?h(e.value):e.value),J(()=>{var a=r();g(e)&&a===h(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function g(e){var r=e.type;return r==="number"||r==="range"}function h(e){return e===""?null:+e}function P(e,r,l){if(e.multiple)return le(e,r);for(var t of e.options){var a=d(t);if(O(a,r)){t.selected=!0;return}}(!l||r!==void 0)&&(e.selectedIndex=-1)}function re(e,r){L(()=>{var l=new MutationObserver(()=>{var t=e.__value;P(e,t)});return l.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{l.disconnect()}})}function te(e,r,l=r){var t=!0;j(e,"change",a=>{var s=a?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(s),d);else{var u=e.querySelector(s)??e.querySelector("option:not([disabled])");o=u&&d(u)}l(o)}),L(()=>{var a=r();if(P(e,a,t),t&&a===void 0){var s=e.querySelector(":checked");s!==null&&(a=d(s),l(a))}e.__value=a,t=!1}),re(e)}function le(e,r){for(var l of e.options)l.selected=~r.indexOf(d(l))}function d(e){return"__value"in e?e.__value:e.value}var se=A("<option> </option>"),ne=A('<label class="label"><span class="label-text svelte-7gw9qj">Monero Address</span> <input class="input" type="text" placeholder="48v9SpsdkaNkVqS5LXyZCj1z5t9c3mJErPX46tk6XGxuH..."></label> <div style="margin: 5px;"></div> <label class="label"><span class="label-text svelte-7gw9qj">Fiat Currency</span> <select class="select svelte-7gw9qj"></select></label>',1);function pe(e,r){G(r,!1);let l=!1,t=C(""),a=C("");const s=/^[A-Za-z0-9]{95}$/;U(()=>{typeof window<"u"&&(c(t,localStorage.getItem("address")||""),c(a,localStorage.getItem("currency")||"usd"),localStorage.setItem("currency",n(a)))});function o(){l=s.test(n(t)),l?localStorage.setItem("address",n(t)):(alert("Please enter a valid Monero address."),c(t,""))}function u(){localStorage.setItem("currency",n(a))}X(),D(e,{title:"Settings",children:(V,oe)=>{var S=ne(),m=N(S),b=p(y(m),2);K(b),_(m);var x=p(m,4),f=p(y(x),2);I(()=>{n(a),T(()=>{})}),Q(f,5,()=>Y,R,(i,q,ue,ie)=>{var v=se(),$={},E=y(v,!0);_(v),I(k=>{$!==($=k)&&(v.value=(v.__value=k)??""),B(E,n(q))},[()=>ee[n(q).toLowerCase()]],W),w(i,v)}),_(f),_(x),ae(b,()=>n(t),i=>c(t,i)),M("blur",b,o),te(f,()=>n(a),i=>c(a,i)),M("change",f,u),w(V,S)},$$slots:{default:!0}}),H()}export{pe as component};
